# This YAML specification was auto generated by the `ads opctl init` command.
# The more details about the jobs YAML specification can be found in the ADS documentation:
# https://accelerated-data-science.readthedocs.io/en/latest/user_guide/model_registration/model_deploy_byoc.html


kind: deployment
spec:
  description: The model deployment description
  displayName: Model Deployment
  freeformTags:
    key1: value1
  infrastructure:
    kind: infrastructure
    spec:
      bandwidthMbps: 10
      compartmentId: ocid1.compartment.oc1..<unique_id>
      logGroupId: ocid1.loggroup.oc1.iad.<unique_id>
      logId: ocid1.log.oc1.iad.<unique_id>
      projectId: ocid1.datascienceproject.oc1.<unique_id>
      replica: 1
      shapeName: VM.Standard.E2.4
      webConcurrency: 10
    type: datascienceModelDeployment
  runtime:
    kind: runtime
    spec:
      deploymentMode: HTTPS_ONLY
      entrypoint:
      - python
      - /opt/ds/model/deployed_model/api.py
      env:
        key: value
      healthCheckPort: 5000
      image: iad.ocir.io/<namespace>/<image>:<tag>
      imageDigest: <IMAGE_DIGEST>
      modelUri: <MODEL_URI>
      serverPort: 5000
    type: container
type: modelDeployment
